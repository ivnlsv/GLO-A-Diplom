(()=>{"use strict";const e=({timing:e,draw:t,duration:n})=>{const c=performance.now();requestAnimationFrame((function o(s){let i=(s-c)/n;i>1&&(i=1);const l=e(i);t(l),i<1&&requestAnimationFrame(o)}))},t=()=>{const t=[document.querySelector("#modal-open"),document.querySelector("#button-services"),...document.querySelectorAll(".absolute")],n=document.querySelector(".modal-overlay"),c=document.querySelector(".modal-callback"),o=document.querySelector(".modal-close"),s=t=>{const o=t?0:1,s=t?1:0;e({timing:e=>e,draw:e=>{n.style.opacity=o+(s-o)*e,c.style.opacity=o+(s-o)*e,1!==e||t?(n.style.display="block",c.style.display="block"):(n.style.display="none",c.style.display="none")},duration:500})},i=e=>{e.preventDefault(),s(!0)};t.forEach((e=>{e&&e.addEventListener("click",i)})),o.addEventListener("click",(()=>{s(!1)})),window.addEventListener("click",(e=>{e.target===n&&s(!1)}))};t(),(()=>{const e=document.querySelectorAll(".item"),t=document.querySelector(".dots-container");let n=0;const c=()=>{e.forEach(((e,t)=>{e.classList.toggle("active",t===n)})),document.querySelectorAll(".dot").forEach(((e,t)=>{e.classList.toggle("active",t===n)}))};e.forEach(((e,o)=>{const s=document.createElement("div");s.classList.add("dot"),s.addEventListener("click",(()=>{n=o,c()})),t.appendChild(s)})),c(),setInterval((()=>{n=(n+1)%e.length,c()}),3e3)})(),(()=>{const e=[{title:"Аварийный выезд",price:"от 790 руб.",description:"Идейные соображения высшего порядка, а также постоянный количественный рост и сфера нашей активности способствует подготовки.",img:"../images/service1.jpg"},{title:"Монтаж или замена электропроводки",price:"от 1790 руб.",description:"Идейные соображения высшего порядка, а также постоянный количественный рост и сфера нашей активности способствует подготовки.",img:"../images/service2.jpg"},{title:"Ремонт, замена, перенос розеток",price:"от 990 руб.",description:"Идейные соображения высшего порядка, а также постоянный количественный рост и сфера нашей активности способствует подготовки.",img:"../images/service3.jpg"},{title:"Замена электросчетчика",price:"от 990 руб.",description:"Идейные соображения высшего порядка, а также постоянный количественный рост и сфера нашей активности способствует подготовки.",img:"../images/service4.jpg"},{title:"Установка, замена люстры",price:"от 790 руб.",description:"Идейные соображения высшего порядка, а также постоянный количественный рост и сфера нашей активности способствует подготовки.",img:"../images/service5.jpg"},{title:"Установка светильников",price:"от 490 руб.",description:"Идейные соображения высшего порядка, а также постоянный количественный рост и сфера нашей активности способствует подготовки.",img:"../images/service6.jpg"}],n=document.getElementById("carousel"),c=document.getElementById("prevArrow"),o=document.getElementById("nextArrow");let s=0;const i=()=>{n.innerHTML="";for(let c=s;c<s+3;c++)if(e[c]){const o=document.createElement("div");o.className="col-sm-6 col-md-4",o.innerHTML=`\n                  <div class="element relative">\n                      <a class="absolute fancyboxModal" href="#application" data-application="${e[c].title}"></a>\n                      <div class="img-wrapper">\n                          <img src="${e[c].img}">\n                      </div>\n                      <div class="element-content">\n                          <div class="title-h5 upper">${e[c].title}</div>\n                          <div class="element-price">${e[c].price}</div>\n                          <div class="text">${e[c].description}</div>\n                      </div>\n                  </div>`,n.appendChild(o),t()}},l=()=>{i(),c.style.display=0===s?"none":"block",o.style.display=s>=e.length-3?"none":"block"};o.addEventListener("click",(()=>{s<e.length-3&&(s++,l())})),c.addEventListener("click",(()=>{s>0&&(s--,l())})),i()})(),document.querySelectorAll(".accordeon .element .title").forEach((e=>{e.addEventListener("click",(function(){const e=this.parentElement,t=e.classList.contains("active");document.querySelectorAll(".accordeon .element").forEach((e=>{e.classList.remove("active"),e.querySelector(".element-content").style.display="none"})),t||(e.classList.add("active"),e.querySelector(".element-content").style.display="block")}))})),(()=>{const t=document.querySelector(".up");window.onscroll=()=>{document.body.scrollTop>100||document.documentElement.scrollTop>100?t.style.display="block":t.style.display="none"},t.addEventListener("click",(()=>{const t=window.scrollY,n=0-t;e({timing:e=>e,draw:e=>{const c=t+n*e;window.scrollTo(0,c)},duration:500})}))})(),(()=>{const e=document.forms["form-callback"],t=document.querySelector("#responseMessage .modal-content"),n="Идет отправка...";e.addEventListener("submit",(function(c){c.preventDefault();const o=e.fio.value.trim(),s=e.tel.value.trim();if(!/^[\u0400-\u04FF\s]+$/.test(o))return void alert("Имя должно содержать только кириллицу.");if(!/^[0-9+]+$/.test(s))return void alert("Телефон должен содержать только цифры и '+'.");const i=new FormData(e),l=Object.fromEntries(i.entries());t.textContent=n,statusBlock.textContent=n,e.append(t),setTimeout((()=>{(e=>fetch("https://jsonplaceholder.typicode.com/posts",{method:"POST",body:JSON.stringify(e),headers:{"Content-type":"application/json"}}).then((e=>e.json())))(l).then((n=>{t.innerHTML="Отправлено!",t.classList.remove("error"),t.classList.add("success"),e.reset()})).catch((e=>{t.innerHTML="Произошла ошибка: "+e.message,t.classList.remove("success"),t.classList.add("error")})).finally((()=>{setTimeout((()=>{document.querySelector(".modal-content").style.display="none"}),2e3)}))}),5)}))})()})();