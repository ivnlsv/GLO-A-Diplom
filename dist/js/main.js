(()=>{"use strict";const e=({timing:e,draw:t,duration:n})=>{const o=performance.now();requestAnimationFrame((function c(l){let s=(l-o)/n;s>1&&(s=1);const r=e(s);t(r),s<1&&requestAnimationFrame(c)}))},t=()=>{const t=[document.querySelector("#modal-open"),document.querySelector("#button-services"),...document.querySelectorAll(".absolute")],n=document.querySelector(".modal-overlay"),o=document.querySelector(".modal-callback"),c=document.querySelector(".modal-close"),l=t=>{const c=t?0:1,l=t?1:0;e({timing:e=>e,draw:e=>{n.style.opacity=c+(l-c)*e,o.style.opacity=c+(l-c)*e,1!==e||t?(n.style.display="block",o.style.display="block"):(n.style.display="none",o.style.display="none")},duration:500})},s=e=>{e.preventDefault(),l(!0)};t.forEach((e=>{e&&e.addEventListener("click",s)})),c.addEventListener("click",(()=>{l(!1)})),window.addEventListener("click",(e=>{e.target===n&&l(!1)}))};t(),(()=>{const e=document.querySelectorAll(".item"),t=document.querySelector(".dots-container"),n=document.querySelectorAll(".table");let o,c=0;const l=o=>{e.forEach(((e,c)=>{e.classList.toggle("active",c===o),n[c].classList.toggle("active",c===o),t.children[c].classList.toggle("active",c===o)})),c=o},s=()=>{o=setInterval((()=>{c=(c+1)%e.length,l(c)}),3e3)};e.forEach(((e,n)=>{const s=document.createElement("div");s.classList.add("dot"),s.dataset.index=n,s.addEventListener("click",(e=>{(e=>{clearInterval(o),l(e),c=e})(parseInt(e.target.dataset.index))})),t.appendChild(s)}));const r=document.querySelector(".top-slider");r.addEventListener("mouseenter",(()=>clearInterval(o))),r.addEventListener("mouseleave",s),l(c),s()})(),(()=>{const e=[{title:"Аварийный выезд",price:"от 790 руб.",description:"Идейные соображения высшего порядка, а также постоянный количественный рост и сфера нашей активности способствует подготовки.",img:"./images/service1.jpg"},{title:"Монтаж или замена электропроводки",price:"от 1790 руб.",description:"Идейные соображения высшего порядка, а также постоянный количественный рост и сфера нашей активности способствует подготовки.",img:"./images/service2.jpg"},{title:"Ремонт, замена, перенос розеток",price:"от 990 руб.",description:"Идейные соображения высшего порядка, а также постоянный количественный рост и сфера нашей активности способствует подготовки.",img:"./images/service3.jpg"},{title:"Замена электросчетчика",price:"от 990 руб.",description:"Идейные соображения высшего порядка, а также постоянный количественный рост и сфера нашей активности способствует подготовки.",img:"./images/service4.jpg"},{title:"Установка, замена люстры",price:"от 790 руб.",description:"Идейные соображения высшего порядка, а также постоянный количественный рост и сфера нашей активности способствует подготовки.",img:"./images/service5.jpg"},{title:"Установка светильников",price:"от 490 руб.",description:"Идейные соображения высшего порядка, а также постоянный количественный рост и сфера нашей активности способствует подготовки.",img:"./images/service6.jpg"}],n=document.getElementById("carousel"),o=document.getElementById("prevArrow"),c=document.getElementById("nextArrow");let l=0;const s=e=>{const t=document.createElement("div");return t.className="col-sm-6 col-md-4",t.innerHTML=`\n            <div class="element relative">\n                <a class="absolute fancyboxModal" href="#application" data-application="${e.title}"></a>\n                <div class="img-wrapper">\n                    <img src="${e.img}" class="service-image">\n                </div>\n                <div class="element-content">\n                    <div class="title-h5 upper">${e.title}</div>\n                    <div class="element-price">${e.price}</div>\n                    <div class="text">${e.description}</div>\n                </div>\n            </div>`,t},r=()=>{n.innerHTML="";for(let t=l;t<l+3;t++)e[t]&&n.appendChild(s(e[t]));t(),n.querySelectorAll(".service-image").forEach((e=>{e.style.opacity=0,e.onload=()=>{e.style.transition="opacity 0.5s ease",e.style.opacity=1}}))},i=()=>{r(),o.style.display=0===l?"none":"block",c.style.display=l>=e.length-3?"none":"block"};c.addEventListener("click",(()=>{l<e.length-3&&(l++,i())})),o.addEventListener("click",(()=>{l>0&&(l--,i())})),r()})(),document.querySelectorAll(".accordeon .element .title").forEach((e=>{e.addEventListener("click",(e=>{const t=e.target.parentElement,n=t.classList.contains("active");document.querySelectorAll(".accordeon .element").forEach((e=>{e.classList.remove("active"),e.querySelector(".element-content").style.display="none"})),n||(t.classList.add("active"),t.querySelector(".element-content").style.display="block")}))})),(()=>{const t=document.querySelector(".up");document.querySelectorAll(".top-menu ul li a").forEach((t=>{t.addEventListener("click",(n=>{n.preventDefault(),(t=>{const n=document.querySelector(t),o=window.scrollY,c=n.getBoundingClientRect().top+o-o;e({timing:e=>e,draw:e=>{const t=o+c*e;window.scrollTo(0,t)},duration:500})})(t.getAttribute("href"))}))})),window.onscroll=()=>{document.body.scrollTop>100||document.documentElement.scrollTop>100?t.style.display="block":t.style.display="none"},t.addEventListener("click",(()=>{const t=window.scrollY,n=0-t;e({timing:e=>e,draw:e=>{const o=t+n*e;window.scrollTo(0,o)},duration:500})}))})(),(()=>{const e=document.forms["form-callback"],t=document.querySelector("#responseMessage .modal-content"),n=document.querySelector("#responseMessage .fancyClose");e.addEventListener("submit",(async n=>{n.preventDefault();const o=e.fio.value.trim(),c=e.tel.value.trim();if(!/^[\u0400-\u04FF\s]+$/.test(o))return void alert("Имя должно содержать только кириллицу.");if(!/^[0-9+]+$/.test(c))return void alert("Телефон должен содержать только цифры и '+'");const l=new FormData(e),s=Object.fromEntries(l.entries());t.textContent="",t.classList.remove("error","success"),t.textContent="Идет отправка...",document.querySelector(".modal-overlay").style.display="block",document.querySelector(".modal-callback").style.display="none",document.querySelector("#responseMessage").style.display="block";try{await(async e=>{const t=await fetch("https://jsonplaceholder.typicode.com/posts",{method:"POST",body:JSON.stringify(e),headers:{"Content-type":"application/json"}});if(!t.ok)throw new Error("Network response was not ok");return t.json()})(s),t.innerHTML="Отправлено!",t.classList.add("success"),e.reset()}catch(e){t.innerHTML="Ошибка отправки...",t.classList.add("error")}})),n.addEventListener("click",(e=>{e.preventDefault(),document.querySelector("#responseMessage").style.display="none",document.querySelector(".modal-overlay").style.display="none"}))})()})();